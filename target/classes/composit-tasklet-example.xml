<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:batch="http://www.springframework.org/schema/batch"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:jdbc="http://www.springframework.org/schema/jdbc"
	xsi:schemaLocation="
		http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch.xsd
		http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
	<beans>
		<batch:job id="cleTaskletJob">
			<batch:step id="reportCommons" next="initAndSeedOrgDimHierarchyStep">
				<batch:tasklet transaction-manager="offlineTransactionManager"
					ref="commonReportsTasks" />
			</batch:step>
		</batch:job>
		<bean id="commonReportsTasks" class="com.rsa.aa.reports.etl.step.CompositeSqlTasklet"
			scope="step">
			<property name="delegates">
				<list>
					<ref bean="insertWreDimSubtype" />
					<ref bean="deleteWreStAggDay" />
					<ref bean="insertWreStAggDay" />
				</list>
			</property>
		</bean>
		<bean id="insertWreDimSubtype" class="com.rsa.aa.reports.etl.step.SimpleSqlTasklet"
			scope="step" parent="baseSimpleSqlTasklet">
			<property name="sql"
				value="classpath:queries/common/10-insert-wre-dim-sub-type.sql" />
			<property name="paramterMap">
				<map>
					<entry key="window_start" value="#{jobParameters['window.start']}" />
					<entry key="window_end" value="#{jobParameters['window.end']}" />
				</map>
			</property>
		</bean>
	</beans>
